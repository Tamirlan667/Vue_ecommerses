{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\nimport { BASE_URL } from '@/constants/constants';\nimport { createStore } from 'vuex';\nexport default createStore({\n  state: {\n    products: [],\n    cart: [],\n    likes: [],\n    isCartModalOpen: false,\n    isLikesModalOpen: false\n  },\n  getters: {\n    categories(state) {\n      const tmp = state.products.map(product => product.category);\n      tmp.unshift('all');\n      return [...new Set(tmp)];\n    },\n\n    selectedProduct: state => id => {\n      return state.cart.find(productItem => productItem.id === id);\n    },\n    likedProduct: state => id => {\n      return state.likes.find(productItem => productItem.id === id);\n    },\n\n    cartTotalProductsQuantity(state) {\n      if (state.cart.length === 0) return;\n      return state.cart.reduce((totalQuantity, product) => totalQuantity + product.quantity, 0);\n    },\n\n    totalLikes(state) {\n      if (state.likes.length === 0) return;\n      return state.likes.length;\n    }\n\n  },\n  mutations: {\n    setLike(state, payload) {\n      state.likes.push(payload.product);\n    },\n\n    unLike(state, payload) {\n      state.likes = state.likes.filter(product => product.id !== payload.productId);\n    },\n\n    setProducts(state, payload) {\n      state.products = payload.products;\n    },\n\n    setProductsToCart(state, payload) {\n      state.cart.push(payload.product);\n    },\n\n    deleteProduct(state, payload) {\n      state.cart = state.cart.filter(product => product.id !== payload.productId);\n    },\n\n    openModal(state, payload) {\n      const {\n        type\n      } = payload;\n\n      switch (type) {\n        case 'cartModal':\n          state.isCartModalOpen = true;\n          break;\n\n        case 'likesModal':\n          state.isLikesModalOpen = true;\n          break;\n\n        default:\n          state.isCartModalOpen = true;\n      }\n    },\n\n    closeModal(state, payload) {\n      const {\n        type\n      } = payload;\n\n      switch (type) {\n        case 'cart':\n          state.isCartModalOpen = false;\n          break;\n\n        case 'likes':\n          state.isLikesModalOpen = false;\n          break;\n\n        default:\n          state.isCartModalOpen = false;\n      }\n    },\n\n    incrementQuantity(_, payload) {\n      payload.product.quantity++;\n    },\n\n    decrementQuantity(_, payload) {\n      payload.product.quantity--;\n    }\n\n  },\n  actions: {\n    async fetchProducts({\n      commit\n    }) {\n      try {\n        const response = await fetch(BASE_URL);\n        if (!response.ok) throw new Error('Something went wrong');\n        const products = await response.json();\n        commit('setProducts', {\n          products\n        });\n      } catch (error) {\n        console.log('error:', error);\n      }\n    },\n\n    handleLikes({\n      commit,\n      getters\n    }, product) {\n      const likedProduct = getters.likedProduct(product.id);\n\n      if (likedProduct) {\n        commit('unLike', {\n          productId: product.id\n        });\n        return;\n      }\n\n      commit('setLike', {\n        product\n      });\n    },\n\n    setProductsToCart({\n      commit\n    }, product) {\n      commit('setProductsToCart', {\n        product\n      });\n      commit('openModal', {\n        type: 'cartModal'\n      });\n    },\n\n    openModal({\n      commit\n    }, type) {\n      commit('openModal', {\n        type: type\n      });\n    },\n\n    closeModal({\n      commit\n    }, type) {\n      commit('closeModal', {\n        type\n      });\n    },\n\n    incrementQuantity({\n      commit,\n      getters\n    }, productId) {\n      const product = getters.selectedProduct(productId);\n      commit('incrementQuantity', {\n        product\n      });\n    },\n\n    decrementQuantity({\n      commit,\n      getters\n    }, productId) {\n      const product = getters.selectedProduct(productId);\n      commit('decrementQuantity', {\n        product\n      });\n    },\n\n    deleteProduct({\n      commit\n    }, productId) {\n      commit('deleteProduct', {\n        productId\n      });\n    }\n\n  },\n  modules: {}\n});","map":{"version":3,"names":["BASE_URL","createStore","state","products","cart","likes","isCartModalOpen","isLikesModalOpen","getters","categories","tmp","map","product","category","unshift","Set","selectedProduct","id","find","productItem","likedProduct","cartTotalProductsQuantity","length","reduce","totalQuantity","quantity","totalLikes","mutations","setLike","payload","push","unLike","filter","productId","setProducts","setProductsToCart","deleteProduct","openModal","type","closeModal","incrementQuantity","_","decrementQuantity","actions","fetchProducts","commit","response","fetch","ok","Error","json","error","console","log","handleLikes","modules"],"sources":["/Users/tamirlankarimov/Desktop/Clone/e-commerce-app/src/store/index.js"],"sourcesContent":["import { BASE_URL } from '@/constants/constants';\nimport { createStore } from 'vuex';\n\nexport default createStore({\n  state: {\n    products: [],\n    cart: [],\n    likes: [],\n    isCartModalOpen: false,\n    isLikesModalOpen: false,\n  },\n  getters: {\n    categories(state) {\n      const tmp = state.products.map((product) => product.category);\n      tmp.unshift('all');\n      return [...new Set(tmp)];\n    },\n\n    selectedProduct: (state) => (id) => {\n      return state.cart.find((productItem) => productItem.id === id);\n    },\n\n    likedProduct: (state) => (id) => {\n      return state.likes.find((productItem) => productItem.id === id);\n    },\n\n    cartTotalProductsQuantity(state) {\n      if (state.cart.length === 0) return;\n      return state.cart.reduce((totalQuantity, product) => totalQuantity + product.quantity, 0);\n    },\n\n    totalLikes(state) {\n      if (state.likes.length === 0) return;\n      return state.likes.length;\n    },\n  },\n  mutations: {\n    setLike(state, payload) {\n      state.likes.push(payload.product);\n    },\n\n    unLike(state, payload) {\n      state.likes = state.likes.filter((product) => product.id !== payload.productId);\n    },\n\n    setProducts(state, payload) {\n      state.products = payload.products;\n    },\n\n    setProductsToCart(state, payload) {\n      state.cart.push(payload.product);\n    },\n\n    deleteProduct(state, payload) {\n      state.cart = state.cart.filter((product) => product.id !== payload.productId);\n    },\n\n    openModal(state, payload) {\n      const { type } = payload;\n      switch (type) {\n        case 'cartModal':\n          state.isCartModalOpen = true;\n          break;\n        case 'likesModal':\n          state.isLikesModalOpen = true;\n          break;\n        default:\n          state.isCartModalOpen = true;\n      }\n    },\n\n    closeModal(state, payload) {\n      const { type } = payload;\n      switch (type) {\n        case 'cart':\n          state.isCartModalOpen = false;\n          break;\n        case 'likes':\n          state.isLikesModalOpen = false;\n          break;\n        default:\n          state.isCartModalOpen = false;\n      }\n    },\n\n    incrementQuantity(_, payload) {\n      payload.product.quantity++;\n    },\n\n    decrementQuantity(_, payload) {\n      payload.product.quantity--;\n    },\n  },\n  actions: {\n    async fetchProducts({ commit }) {\n      try {\n        const response = await fetch(BASE_URL);\n\n        if (!response.ok) throw new Error('Something went wrong');\n\n        const products = await response.json();\n        commit('setProducts', { products });\n      } catch (error) {\n        console.log('error:', error);\n      }\n    },\n\n    handleLikes({ commit, getters }, product) {\n      const likedProduct = getters.likedProduct(product.id);\n      if (likedProduct) {\n        commit('unLike', { productId: product.id });\n        return;\n      }\n      commit('setLike', { product });\n    },\n\n    setProductsToCart({ commit }, product) {\n      commit('setProductsToCart', { product });\n      commit('openModal', { type: 'cartModal' });\n    },\n\n    openModal({ commit }, type) {\n      commit('openModal', { type: type });\n    },\n\n    closeModal({ commit }, type) {\n      commit('closeModal', { type });\n    },\n\n    incrementQuantity({ commit, getters }, productId) {\n      const product = getters.selectedProduct(productId);\n      commit('incrementQuantity', { product });\n    },\n\n    decrementQuantity({ commit, getters }, productId) {\n      const product = getters.selectedProduct(productId);\n      commit('decrementQuantity', { product });\n    },\n\n    deleteProduct({ commit }, productId) {\n      commit('deleteProduct', { productId });\n    },\n  },\n  modules: {},\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}